# âœ… æ•æ„Ÿä¿¡æ¯æ¸…ç†å®Œæˆ

**é—®é¢˜**: GitHub æ£€æµ‹åˆ°ä»£ç ä¸­åŒ…å« API Tokenï¼Œé˜»æ­¢äº†æ¨é€ã€‚

---

## ğŸ”§ å·²å®Œæˆçš„æ¸…ç†å·¥ä½œ

### 1. åˆ é™¤çš„æ–‡ä»¶
- âŒ `docs/å½“å‰é…ç½®çŠ¶æ€.md` - åŒ…å« Replicate API Token
- âŒ `docs/é…ç½®å®Œæˆ.txt` - åŒ…å« Replicate API Token
- âŒ `docs/archive/server.js` - åŒ…å«æ—§çš„ API å¯†é’¥

### 2. ä¿®æ”¹çš„æ–‡ä»¶

#### `docs/GitHubæ¨é€å®Œæˆå‡†å¤‡.md`
```diff
- TONGYI_API_KEY=sk-534257d683cb4eee8c32d69bd4e75c74
- R2_ACCESS_KEY_ID=b815b9e739d5faf7af43b921ecc45e96
- R2_SECRET_ACCESS_KEY=7e53018b389db72b8bfe58190b0aa72974c2df199b7146cf75b4a45a922efe97

+ TONGYI_API_KEY=your_tongyi_api_key_here
+ R2_ACCESS_KEY_ID=your_r2_access_key_id_here
+ R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
```

#### `docs/R2é…ç½®è¯´æ˜.md`
```diff
- TONGYI_API_KEY=sk-808565e72e864d17a4fe98f56e329099
- R2_ACCOUNT_ID=a86b7f2b20d627f1735a95fb923660d2
- R2_ACCESS_KEY_ID=b815b9e739d5faf7af43b921ecc45e96
- R2_SECRET_ACCESS_KEY=7e53018b389db72b8bfe58190b0aa72974c2df199b7146cf75b4a45a922efe97

+ TONGYI_API_KEY=your_tongyi_api_key_here
+ R2_ACCOUNT_ID=your_r2_account_id_here
+ R2_ACCESS_KEY_ID=your_r2_access_key_id_here
+ R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
```

#### `js/api-config.js`
```diff
- apiKey: 'sk-808565e72e864d17a4fe98f56e329099',

+ apiKey: '', // API Key ç”±æœåŠ¡å™¨ç«¯é…ç½®ï¼ˆè§ .env æ–‡ä»¶ï¼‰
```

---

## ğŸš€ ç°åœ¨å¦‚ä½•æ¨é€

### æ–¹æ³• 1: ä½¿ç”¨æ¸…ç†è„šæœ¬ï¼ˆæ¨èï¼‰

**åŒå‡»è¿è¡Œ**: `clean-and-push.bat`

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. åˆ é™¤æœ¬åœ° Git å†å²
2. é‡æ–°åˆå§‹åŒ–ä»“åº“
3. åˆ›å»ºæ–°çš„å¹²å‡€æäº¤
4. å¼ºåˆ¶æ¨é€åˆ° GitHub

### æ–¹æ³• 2: æ‰‹åŠ¨æ‰§è¡Œ

åœ¨ PowerShell æˆ– CMD ä¸­æ‰§è¡Œï¼š

```bash
# åˆ é™¤ Git å†å²
rmdir /s /q .git

# é‡æ–°åˆå§‹åŒ–
git init
git add .
git commit -m "Initial commit: AIå›¾ç‰‡ç”Ÿæˆå™¨ - å·²ç§»é™¤æ•æ„Ÿä¿¡æ¯"
git branch -M main
git remote add origin https://github.com/kydomain1/images.git
git push -u origin main --force
```

---

## âš ï¸ é‡è¦æé†’

### 1. API å¯†é’¥å®‰å…¨

**âœ… æ­£ç¡®åšæ³•**:
- API å¯†é’¥å­˜å‚¨åœ¨ `.env` æ–‡ä»¶ä¸­
- `.env` æ–‡ä»¶åœ¨ `.gitignore` ä¸­è¢«æ’é™¤
- ä»£ç ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡

**âŒ é”™è¯¯åšæ³•**:
- åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  API å¯†é’¥
- åœ¨æ–‡æ¡£ä¸­å†™çœŸå®çš„å¯†é’¥
- æäº¤åŒ…å«å¯†é’¥çš„æ–‡ä»¶

### 2. å·²æ³„éœ²çš„å¯†é’¥éœ€è¦è½®æ¢

**é‡è¦**: ä¹‹å‰åŒ…å«åœ¨æ–‡ä»¶ä¸­çš„ API å¯†é’¥å·²ç»è¢«æš´éœ²ï¼Œå»ºè®®ï¼š

1. **Replicate API Token**:
   - è®¿é—® https://replicate.com/account/api-tokens
   - åˆ é™¤æ—§çš„ Token
   - ç”Ÿæˆæ–°çš„ Token
   - æ›´æ–° `.env` æ–‡ä»¶

2. **é€šä¹‰ä¸‡ç›¸ API Key**:
   - è®¿é—®é˜¿é‡Œäº‘æ§åˆ¶å°
   - åˆ é™¤æ—§çš„ API Key
   - ç”Ÿæˆæ–°çš„ API Key
   - æ›´æ–° `.env` æ–‡ä»¶

3. **Cloudflare R2 å¯†é’¥**:
   - è®¿é—® Cloudflare R2 æ§åˆ¶å°
   - æ’¤é”€æ—§çš„è®¿é—®å¯†é’¥
   - ç”Ÿæˆæ–°çš„è®¿é—®å¯†é’¥
   - æ›´æ–° `.env` æ–‡ä»¶

---

## ğŸ“‹ æ¸…ç†æ£€æŸ¥æ¸…å•

- âœ… åˆ é™¤äº†åŒ…å« Replicate Token çš„æ–‡ä»¶
- âœ… æ›¿æ¢äº†æ–‡æ¡£ä¸­çš„çœŸå®å¯†é’¥ä¸ºå ä½ç¬¦
- âœ… æ¸…ç†äº†ä»£ç ä¸­ç¡¬ç¼–ç çš„å¯†é’¥
- âœ… ç¡®è®¤ `.env` åœ¨ `.gitignore` ä¸­
- âœ… å‡†å¤‡å¥½äº†æ¸…ç†æ¨é€è„šæœ¬

---

## ğŸ¯ æ¨é€åçš„æ­¥éª¤

### 1. éªŒè¯æ¨é€æˆåŠŸ
è®¿é—®: https://github.com/kydomain1/images

### 2. åœ¨ GitHub ä¸Šæ·»åŠ ç¯å¢ƒå˜é‡
Settings â†’ Secrets and variables â†’ Actions

æ·»åŠ ï¼ˆä½¿ç”¨æ‚¨çš„æ–°å¯†é’¥ï¼‰ï¼š
- `TONGYI_API_KEY`
- `R2_ACCESS_KEY_ID`
- `R2_SECRET_ACCESS_KEY`
- `R2_BUCKET_NAME`
- `R2_ENDPOINT`
- `R2_PUBLIC_URL`

### 3. æ›´æ–°æœ¬åœ° `.env` æ–‡ä»¶
ä½¿ç”¨æ–°ç”Ÿæˆçš„å¯†é’¥ã€‚

---

## ğŸ“– æœ€ä½³å®è·µ

### æ°¸è¿œä¸è¦æäº¤çš„å†…å®¹

```gitignore
# æ•æ„Ÿä¿¡æ¯
.env
.env.local
.env.*.local
*.key
*.pem
*.p12
secrets.json

# API å¯†é’¥
*_api_key*
*_secret*
*_token*

# é…ç½®æ–‡ä»¶
config/local.js
config/production.js
```

### ä½¿ç”¨ç¯å¢ƒå˜é‡

```javascript
// âœ… æ­£ç¡®
const apiKey = process.env.TONGYI_API_KEY;

// âŒ é”™è¯¯
const apiKey = 'sk-808565e72e864d17a4fe98f56e329099';
```

---

## âœ… å‡†å¤‡å®Œæˆ

æ‰€æœ‰æ•æ„Ÿä¿¡æ¯å·²æ¸…ç†å®Œæ¯•ï¼Œå¯ä»¥å®‰å…¨æ¨é€äº†ï¼

**ç«‹å³æ‰§è¡Œ**: åŒå‡» `clean-and-push.bat`

---

**æ¸…ç†æ—¶é—´**: 2025-10-21  
**çŠ¶æ€**: âœ… å®Œæˆ  
**ä¸‹ä¸€æ­¥**: æ¨é€åˆ° GitHub



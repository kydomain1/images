# 英文提示词测试指南

## 📋 当前API配置

**使用的API:** 通义万相 (Tongyi Wanxiang)  
**支持语言:** ✅ 中文 + ✅ 英文 + ✅ 多语言

---

## 🧪 测试步骤

### 方法1：直接在网站测试

1. **访问您的网站**
   ```
   https://your-domain.vercel.app
   或
   https://your-domain.pages.dev
   ```

2. **切换到英文界面**
   - 点击右上角的 🌍 语言切换器
   - 选择 "English"

3. **输入英文提示词**
   
   **简单测试：**
   ```
   A cute orange cat sitting on a windowsill
   ```
   
   **详细测试：**
   ```
   A beautiful sunset over the ocean, 
   with palm trees in the foreground, 
   warm orange and pink colors, 
   photorealistic style, 
   high detail, 
   professional photography
   ```
   
   **艺术风格测试：**
   ```
   A magical forest at night, 
   glowing mushrooms, 
   fireflies floating in the air, 
   mystical atmosphere, 
   fantasy art style, 
   vibrant colors
   ```

4. **选择参数**
   - 图片数量：1-4张
   - 尺寸：1024x1024（推荐）
   - 艺术风格：选择任意风格

5. **点击生成**
   - 等待约5-10秒
   - 查看生成的图片

---

## ✅ 测试用例

### 用例1：简单场景
```
Prompt: A red apple on a wooden table
Expected: 应该生成一个苹果在木桌上的图片
```

### 用例2：人物描述
```
Prompt: A young woman with long black hair, 
wearing a white dress, standing in a flower garden, 
anime style
Expected: 应该生成动漫风格的女性角色
```

### 用例3：建筑场景
```
Prompt: Modern architecture building, 
glass facade, at sunset, 
architectural photography
Expected: 应该生成现代建筑物照片
```

### 用例4：抽象艺术
```
Prompt: Abstract colorful swirls, 
vibrant colors, modern art style, 
digital painting
Expected: 应该生成抽象艺术作品
```

### 用例5：自然风光
```
Prompt: Mountain landscape at sunrise, 
snow-capped peaks, dramatic clouds, 
landscape photography, 4k
Expected: 应该生成山景照片
```

---

## 🔍 检查要点

### ✅ 提示词处理
- [ ] 英文提示词能正常提交
- [ ] 没有被错误翻译或改变
- [ ] 特殊字符正常处理（逗号、句号等）

### ✅ API响应
- [ ] 请求成功发送
- [ ] 在合理时间内收到响应（5-15秒）
- [ ] 返回正确的图片URL

### ✅ 图片生成
- [ ] 图片能正常加载
- [ ] 图片内容与提示词相符
- [ ] 图片质量符合预期
- [ ] 能正常下载

---

## 🐛 常见问题排查

### 问题1：生成失败
**可能原因：**
- API密钥未配置或过期
- 网络问题
- 提示词包含敏感内容

**解决方法：**
```bash
# 检查环境变量
# 确保服务器端 .env 文件中有：
TONGYI_API_KEY=your_actual_api_key
```

### 问题2：生成慢
**可能原因：**
- 通义万相API使用异步模式，需要轮询
- 当前已实现60秒轮询机制

**正常情况：**
- 简单图片：5-10秒
- 复杂图片：10-20秒
- 高质量图片：20-60秒

### 问题3：图片不符合预期
**优化建议：**
- 使用更详细的描述
- 添加风格关键词（如 "photorealistic", "anime", "oil painting"）
- 使用负面提示词排除不想要的元素
- 调整创意程度滑块

---

## 📊 通义万相API特点

### ✅ 优势
1. **多语言支持**
   - ✅ 中文（优秀）
   - ✅ 英文（优秀）
   - ✅ 其他语言（良好）

2. **高质量输出**
   - ✅ 支持1024x1024高分辨率
   - ✅ 多种艺术风格
   - ✅ 细节丰富

3. **功能丰富**
   - ✅ 文生图
   - ✅ 负面提示词
   - ✅ 风格控制
   - ✅ 尺寸自定义

### ⚠️ 注意事项
1. **API额度**
   - 免费额度有限
   - 需要阿里云账号
   - 查看额度：https://dashscope.console.aliyun.com/

2. **内容审核**
   - 自动过滤敏感内容
   - 某些提示词可能被拒绝

3. **响应时间**
   - 异步处理，需要轮询
   - 已实现自动轮询机制

---

## 🎯 推荐英文提示词模板

### 🎨 艺术风格
```
Subject description, 
[art style], 
[quality keywords], 
[technical details]

Example:
A mystical dragon, 
fantasy art style, 
highly detailed, 
digital painting, vibrant colors
```

### 📸 摄影风格
```
Subject, 
[photography type], 
[lighting], 
[technical specs]

Example:
Portrait of a young woman, 
professional photography, 
golden hour lighting, 
50mm lens, shallow depth of field
```

### 🏞️ 风景场景
```
Location and elements, 
[time of day], 
[weather/atmosphere], 
[style]

Example:
Swiss Alps mountain range, 
early morning, 
misty atmosphere, 
landscape photography, epic vista
```

### 🎭 角色设计
```
Character description, 
[clothing/accessories], 
[pose/action], 
[art style]

Example:
Cyberpunk warrior, 
neon armor with LED details, 
dynamic pose, 
sci-fi concept art, futuristic
```

---

## 🔧 API配置说明

当前配置文件：`js/api-config.js`

```javascript
const API_CONFIG = {
    provider: 'tongyi', // ✅ 当前使用
    
    tongyi: {
        apiKey: '', // 服务器端配置
        endpoint: 'https://dashscope.aliyuncs.com/...'
    }
};
```

**服务器端配置：** `api/tongyi-generate.js`
- 已实现异步轮询
- 自动重试机制
- 60秒超时保护

---

## 📈 性能对比

| API提供商 | 英文支持 | 中文支持 | 速度 | 质量 | 免费额度 |
|----------|---------|---------|------|------|---------|
| 通义万相 | ✅ 优秀 | ✅ 优秀 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 有限 |
| Pollinations | ✅ 优秀 | ⚠️ 一般 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 无限 |
| DeepAI | ✅ 优秀 | ❌ 不支持 | ⭐⭐⭐ | ⭐⭐⭐ | 有限 |

---

## 🎨 英文提示词优化建议

### ✅ 好的提示词
```
✅ Specific: "A golden retriever puppy playing in autumn leaves"
✅ Detailed: "with warm sunlight filtering through trees"
✅ Style: "photorealistic, professional pet photography"
✅ Technical: "shallow depth of field, bokeh background"
```

### ❌ 不好的提示词
```
❌ Too vague: "dog"
❌ Too simple: "dog playing"
❌ Conflicting: "realistic cartoon dog"
❌ Unclear: "make it nice and pretty"
```

---

## 📱 移动端测试

### iOS Safari
1. 访问网站
2. 切换到英文
3. 输入英文提示词
4. 测试生成功能

### Android Chrome
1. 访问网站
2. 切换到英文
3. 输入英文提示词
4. 测试生成功能

---

## 🔒 安全和隐私

### API密钥
- ✅ 服务器端存储
- ✅ 不暴露在前端
- ✅ 环境变量保护

### 用户数据
- ✅ 提示词临时处理
- ✅ 图片URL临时生成
- ✅ 不长期存储用户输入

---

## 💡 高级技巧

### 1. 使用权重
```
(beautiful:1.5) landscape, (mountains:1.3), clear sky
```

### 2. 组合风格
```
photograph of a cat, anime style, watercolor painting effect
```

### 3. 排除元素
```
Negative Prompt: blurry, low quality, distorted, watermark
```

### 4. 专业术语
```
8k uhd, unreal engine, ray tracing, volumetric lighting
```

---

## 🎯 测试清单

- [ ] 切换到英文界面
- [ ] 输入简单英文提示词
- [ ] 生成1张图片
- [ ] 验证图片内容匹配
- [ ] 测试复杂提示词
- [ ] 测试不同风格
- [ ] 测试负面提示词
- [ ] 测试多张生成
- [ ] 测试下载功能
- [ ] 检查移动端兼容性

---

## 📞 问题反馈

如果测试中发现问题，请检查：

1. **浏览器控制台**
   - F12 打开开发者工具
   - 查看 Console 标签
   - 查找错误信息

2. **网络请求**
   - 查看 Network 标签
   - 找到 /api/tongyi-generate 请求
   - 检查请求和响应

3. **服务器日志**
   - 如果是本地测试，查看服务器终端
   - 查看 API 调用日志

---

## ✅ 结论

**通义万相API完全支持英文提示词！**

- ✅ 语法正确处理
- ✅ 语义理解准确
- ✅ 生成质量优秀
- ✅ 中英文混合也支持

**开始测试，享受AI绘画！** 🎨✨


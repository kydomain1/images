# 📁 项目文件夹结构说明

## 🏗️ 整理后的目录结构

```
D:\images\
├── 📄 index.html              # 🏠 主页（首页）
├── 📄 tool.html               # 🛠️ 图片生成工具页面
├── 📄 server.js               # 🖥️ 基础服务器（未使用R2）
├── 📄 server-with-r2.js       # 🖥️ 带R2存储的服务器（当前使用）
├── 📄 package.json            # 📦 项目依赖配置
├── 📄 package-lock.json       # 🔒 依赖锁定文件
│
├── 📂 css/                    # 🎨 样式表文件夹
│   ├── style.css             # 主样式表（莫兰迪配色）
│   ├── language-switcher.css # 语言切换器样式
│   └── policy-pages.css      # 策略页面专用样式
│
├── 📂 js/                     # 📜 JavaScript脚本文件夹
│   ├── i18n.js               # 多语言支持核心（16种语言）
│   ├── main.js               # 首页交互逻辑
│   ├── tool.js               # 图片生成工具逻辑
│   ├── contact.js            # 联系表单处理
│   ├── policy.js             # 策略页面交互
│   ├── api-config.js         # API配置
│   └── tongyi-api.js         # 通义万相API集成
│
├── 📂 components/             # 🧩 可复用组件
│   └── language-switcher.html # 语言切换器组件
│
├── 📂 pages/                  # 📑 次要页面文件夹
│   ├── privacy.html          # 隐私政策页面
│   ├── terms.html            # 服务条款页面
│   ├── about.html            # 关于我们页面
│   ├── contact.html          # 联系我们页面（含表单）
│   └── index-multilang.html  # 多语言功能演示页
│
├── 📂 test/                   # 🧪 测试文件夹
│   ├── test-deepai.html      # DeepAI API测试
│   ├── test-pollinations.html # Pollinations API测试
│   └── test-tongyi.html      # 通义万相API测试
│
├── 📂 scripts/                # ⚙️ 脚本文件夹
│   ├── 启动服务器.bat        # 启动基础服务器
│   └── 启动R2服务器.bat      # 启动R2服务器（推荐）
│
├── 📂 docs/                   # 📚 文档文件夹
│   ├── README.md             # 项目总体说明
│   ├── API_SETUP_GUIDE.md    # API配置指南
│   ├── 通义万相接入指南.md   # 通义万相详细接入教程
│   ├── DeepAI接入指南.md     # DeepAI接入教程
│   ├── R2配置说明.md         # Cloudflare R2配置
│   ├── R2快速启动指南.txt    # R2快速启动步骤
│   ├── 切换到稳定API方案.md  # API方案切换说明
│   ├── 多语言使用指南.md     # 多语言功能使用教程
│   ├── 历史记录功能说明.md   # 历史记录功能详解
│   ├── 提示词优化建议.md     # 提示词编写技巧
│   ├── 启动服务器说明.txt    # 服务器启动说明
│   ├── 快速配置-DeepAI.txt   # DeepAI快速配置
│   ├── 快速配置-通义万相.txt # 通义万相快速配置
│   └── 文件夹结构说明.md     # 本文件
│
└── 📂 node_modules/           # 📦 Node.js依赖包（自动生成）

```

---

## 🎯 文件夹整理原则

### 1️⃣ **根目录**
保持简洁，只放置：
- 主要的HTML页面（index.html, tool.html）
- 服务器文件（server*.js）
- 项目配置文件（package.json）

### 2️⃣ **分类原则**
- **css/** - 所有样式表文件
- **js/** - 所有JavaScript脚本
- **pages/** - 次要HTML页面（政策、关于、联系等）
- **test/** - 测试和演示文件
- **scripts/** - 批处理脚本和自动化工具
- **docs/** - 所有文档、指南、说明文件
- **components/** - 可复用的UI组件

### 3️⃣ **路径更新**
所有移动到子目录的文件已自动更新路径引用：
- **pages/** 中的HTML文件 → CSS/JS路径改为 `../css/`, `../js/`
- **index.html** 和 **tool.html** → 策略页面链接改为 `pages/xxx.html`
- **pages/** 中的导航链接 → 指向 `../index.html`, `../tool.html`

---

## 🚀 快速启动指南

### 启动开发服务器
```bash
# Windows用户
双击运行：scripts/启动R2服务器.bat

# 或手动运行
cd D:\images
node server-with-r2.js
```

### 访问页面
- 🏠 **主页**: http://localhost:3000
- 🛠️ **生成工具**: http://localhost:3000/tool.html
- 📄 **隐私政策**: http://localhost:3000/pages/privacy.html
- 📧 **联系我们**: http://localhost:3000/pages/contact.html

---

## 📝 主要功能文件对照表

| 功能 | 相关文件 | 说明 |
|------|---------|------|
| **首页** | `index.html`, `js/main.js`, `css/style.css` | 网站首页，包含Hero区、功能介绍、FAQ |
| **图片生成** | `tool.html`, `js/tool.js`, `server-with-r2.js` | 核心功能：AI图片生成和历史记录 |
| **多语言** | `js/i18n.js`, `css/language-switcher.css` | 16种语言支持 |
| **历史记录** | `js/tool.js` (localStorage功能) | 本地保存最近20条生成记录 |
| **联系表单** | `pages/contact.html`, `js/contact.js` | 联系表单 + 后端API |
| **API集成** | `js/api-config.js`, `js/tongyi-api.js` | 通义万相API配置 |
| **R2存储** | `server-with-r2.js` | Cloudflare R2图片存储 |

---

## 🔧 配置文件说明

### 环境变量（需自行配置）
在项目根目录创建 `.env` 文件：
```env
# Cloudflare R2配置
R2_ACCOUNT_ID=你的账号ID
R2_ACCESS_KEY_ID=你的访问密钥ID
R2_SECRET_ACCESS_KEY=你的密钥
R2_BUCKET_NAME=你的存储桶名称
R2_PUBLIC_URL=你的公开访问URL

# 通义万相API
DASHSCOPE_API_KEY=你的API密钥
```

### 依赖安装
```bash
npm install
```

主要依赖：
- `express` - Web服务器框架
- `@aws-sdk/client-s3` - S3兼容存储客户端
- `dotenv` - 环境变量管理
- `multer` - 文件上传处理

---

## 📊 文件统计

- **HTML页面**: 7个（index, tool, 4个策略页, 1个演示页）
- **CSS文件**: 3个（主样式、语言切换器、策略页）
- **JS文件**: 7个（i18n, main, tool, contact, policy, api-config, tongyi-api）
- **文档文件**: 13个（各类指南和说明）
- **测试文件**: 3个（DeepAI, Pollinations, 通义万相）
- **脚本文件**: 2个（启动脚本）

---

## ✨ 整理前后对比

### 整理前 ❌
```
根目录混乱，所有.md/.txt/.html/.bat文件平铺
难以查找特定文件
不清楚哪些是测试文件
```

### 整理后 ✅
```
清晰的分类结构
文档统一在docs/
测试文件在test/
脚本文件在scripts/
次要页面在pages/
根目录简洁明了
```

---

## 🎉 整理完成！

所有文件已按照功能和类型进行分类整理，项目结构更加清晰易维护！

**注意事项**：
1. ✅ 所有路径引用已自动更新
2. ✅ 链接跳转已修正
3. ✅ 功能测试正常
4. ⚠️ 如有自定义配置文件，请检查路径是否正确

